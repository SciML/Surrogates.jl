<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>MOE · Surrogates.jl</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-90474609-3"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-90474609-3', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://docs.sciml.ai/Surrogates/stable/moe/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Surrogates.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Surrogates.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Surrogates.jl: Surrogate models and optimization for scientific machine learning</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Basics</a></li><li><a class="tocitem" href="../radials/">Radials</a></li><li><a class="tocitem" href="../kriging/">Kriging</a></li><li><a class="tocitem" href="../abstractgps/">Gaussian Process</a></li><li><a class="tocitem" href="../lobachevsky/">Lobachevsky</a></li><li><a class="tocitem" href="../LinearSurrogate/">Linear</a></li><li><a class="tocitem" href="../InverseDistance/">InverseDistance</a></li><li><a class="tocitem" href="../randomforest/">RandomForest</a></li><li><a class="tocitem" href="../secondorderpoly/">SecondOrderPolynomial</a></li><li><a class="tocitem" href="../neural/">NeuralSurrogate</a></li><li><a class="tocitem" href="../wendland/">Wendland</a></li><li><a class="tocitem" href="../polychaos/">Polynomial Chaos</a></li><li><a class="tocitem" href="../variablefidelity/">Variable Fidelity</a></li><li><a class="tocitem" href="../gek/">Gradient Enhanced Kriging</a></li><li><a class="tocitem" href="../gekpls/">GEKPLS</a></li><li class="is-active"><a class="tocitem" href>MOE</a><ul class="internal"><li><a class="tocitem" href="#Mixture-of-Experts-(MOE)"><span>Mixture of Experts (MOE)</span></a></li></ul></li><li><a class="tocitem" href="../parallel/">Parallel Optimization</a></li></ul></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../samples/">Samples</a></li><li><a class="tocitem" href="../surrogate/">Surrogates</a></li><li><a class="tocitem" href="../optimizations/">Optimization</a></li></ul></li><li><span class="tocitem">Benchmarks</span><ul><li><a class="tocitem" href="../sphere_function/">Sphere function</a></li><li><a class="tocitem" href="../lp/">Lp norm</a></li><li><a class="tocitem" href="../rosenbrock/">Rosenbrock</a></li><li><a class="tocitem" href="../tensor_prod/">Tensor product</a></li><li><a class="tocitem" href="../cantilever/">Cantilever beam</a></li><li><a class="tocitem" href="../water_flow/">Water Flow function</a></li><li><a class="tocitem" href="../welded_beam/">Welded beam function</a></li><li><a class="tocitem" href="../BraninFunction/">Branin function</a></li><li><a class="tocitem" href="../ackley/">Ackley function</a></li><li><a class="tocitem" href="../gramacylee/">Gramacy &amp; Lee Function</a></li><li><a class="tocitem" href="../Salustowicz/">Salustowicz Benchmark</a></li><li><a class="tocitem" href="../multi_objective_opt/">Multi objective optimization</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>MOE</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>MOE</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SciML/Surrogates.jl/blob/master/docs/src/moe.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Mixture-of-Experts-(MOE)"><a class="docs-heading-anchor" href="#Mixture-of-Experts-(MOE)">Mixture of Experts (MOE)</a><a id="Mixture-of-Experts-(MOE)-1"></a><a class="docs-heading-anchor-permalink" href="#Mixture-of-Experts-(MOE)" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This surrogate requires the &#39;SurrogatesMOE&#39; module which can be added by inputting &quot;]add SurrogatesMOE&quot; from the Julia command line. </p></div></div><p>The Mixture of Experts (MOE) Surrogate model represents the interpolating function as a combination of other surrogate models. SurrogatesMOE is a Julia implementation of the <a href="https://smt.readthedocs.io/en/latest/_src_docs/applications/moe.html">Python version from SMT</a>.</p><p>MOE is most useful when we have a discontinuous function. For example, let&#39;s say we want to build a surrogate for the following function:</p><h3 id="D-Example"><a class="docs-heading-anchor" href="#D-Example">1D Example</a><a id="D-Example-1"></a><a class="docs-heading-anchor-permalink" href="#D-Example" title="Permalink"></a></h3><pre><code class="language-julia hljs">function discont_1D(x)
    if x &lt; 0.0
        return -5.0
    elseif x &gt;= 0.0
        return 5.0
    end
end</code></pre><p>Let&#39;s choose the MOE Surrogate for 1D. Note that we have to import the <code>SurrogatesMOE</code> package in addition to <code>Surrogates</code> and <code>Plots</code>.</p><pre><code class="language-julia hljs">using Surrogates
using SurrogatesMOE
using Plots
default()

lb = -1.0
ub = 1.0
x = sample(50, lb, ub, SobolSample())
y = discont_1D.(x)
scatter(x, y, label=&quot;Sampled Points&quot;, xlims=(lb, ub), ylims=(-6.0, 7.0), legend=:top)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip090">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip090)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip091">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip090)" d="M193.936 1486.45 L2352.76 1486.45 L2352.76 47.2441 L193.936 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip092">
    <rect x="193" y="47" width="2160" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="193.936,1486.45 193.936,47.2441 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="733.641,1486.45 733.641,47.2441 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1273.35,1486.45 1273.35,47.2441 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1813.05,1486.45 1813.05,47.2441 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2352.76,1486.45 2352.76,47.2441 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,1486.45 2352.76,1486.45 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,1486.45 193.936,1467.55 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="733.641,1486.45 733.641,1467.55 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1273.35,1486.45 1273.35,1467.55 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1813.05,1486.45 1813.05,1467.55 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2352.76,1486.45 2352.76,1467.55 "/>
<path clip-path="url(#clip090)" d="M140.464 1532.02 L170.14 1532.02 L170.14 1535.95 L140.464 1535.95 L140.464 1532.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M181.043 1544.91 L188.681 1544.91 L188.681 1518.55 L180.371 1520.21 L180.371 1515.95 L188.635 1514.29 L193.311 1514.29 L193.311 1544.91 L200.95 1544.91 L200.95 1548.85 L181.043 1548.85 L181.043 1544.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M210.394 1542.97 L215.278 1542.97 L215.278 1548.85 L210.394 1548.85 L210.394 1542.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M235.464 1517.37 Q231.852 1517.37 230.024 1520.93 Q228.218 1524.47 228.218 1531.6 Q228.218 1538.71 230.024 1542.27 Q231.852 1545.82 235.464 1545.82 Q239.098 1545.82 240.903 1542.27 Q242.732 1538.71 242.732 1531.6 Q242.732 1524.47 240.903 1520.93 Q239.098 1517.37 235.464 1517.37 M235.464 1513.66 Q241.274 1513.66 244.329 1518.27 Q247.408 1522.85 247.408 1531.6 Q247.408 1540.33 244.329 1544.94 Q241.274 1549.52 235.464 1549.52 Q229.653 1549.52 226.575 1544.94 Q223.519 1540.33 223.519 1531.6 Q223.519 1522.85 226.575 1518.27 Q229.653 1513.66 235.464 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M680.667 1532.02 L710.342 1532.02 L710.342 1535.95 L680.667 1535.95 L680.667 1532.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M730.435 1517.37 Q726.824 1517.37 724.995 1520.93 Q723.19 1524.47 723.19 1531.6 Q723.19 1538.71 724.995 1542.27 Q726.824 1545.82 730.435 1545.82 Q734.069 1545.82 735.875 1542.27 Q737.703 1538.71 737.703 1531.6 Q737.703 1524.47 735.875 1520.93 Q734.069 1517.37 730.435 1517.37 M730.435 1513.66 Q736.245 1513.66 739.301 1518.27 Q742.379 1522.85 742.379 1531.6 Q742.379 1540.33 739.301 1544.94 Q736.245 1549.52 730.435 1549.52 Q724.625 1549.52 721.546 1544.94 Q718.491 1540.33 718.491 1531.6 Q718.491 1522.85 721.546 1518.27 Q724.625 1513.66 730.435 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M750.597 1542.97 L755.481 1542.97 L755.481 1548.85 L750.597 1548.85 L750.597 1542.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M765.713 1514.29 L784.069 1514.29 L784.069 1518.22 L769.995 1518.22 L769.995 1526.7 Q771.013 1526.35 772.032 1526.19 Q773.05 1526 774.069 1526 Q779.856 1526 783.236 1529.17 Q786.615 1532.34 786.615 1537.76 Q786.615 1543.34 783.143 1546.44 Q779.671 1549.52 773.351 1549.52 Q771.175 1549.52 768.907 1549.15 Q766.662 1548.78 764.254 1548.04 L764.254 1543.34 Q766.338 1544.47 768.56 1545.03 Q770.782 1545.58 773.259 1545.58 Q777.263 1545.58 779.601 1543.48 Q781.939 1541.37 781.939 1537.76 Q781.939 1534.15 779.601 1532.04 Q777.263 1529.94 773.259 1529.94 Q771.384 1529.94 769.509 1530.35 Q767.657 1530.77 765.713 1531.65 L765.713 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1250.73 1517.37 Q1247.12 1517.37 1245.29 1520.93 Q1243.49 1524.47 1243.49 1531.6 Q1243.49 1538.71 1245.29 1542.27 Q1247.12 1545.82 1250.73 1545.82 Q1254.36 1545.82 1256.17 1542.27 Q1258 1538.71 1258 1531.6 Q1258 1524.47 1256.17 1520.93 Q1254.36 1517.37 1250.73 1517.37 M1250.73 1513.66 Q1256.54 1513.66 1259.6 1518.27 Q1262.67 1522.85 1262.67 1531.6 Q1262.67 1540.33 1259.6 1544.94 Q1256.54 1549.52 1250.73 1549.52 Q1244.92 1549.52 1241.84 1544.94 Q1238.79 1540.33 1238.79 1531.6 Q1238.79 1522.85 1241.84 1518.27 Q1244.92 1513.66 1250.73 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1270.89 1542.97 L1275.78 1542.97 L1275.78 1548.85 L1270.89 1548.85 L1270.89 1542.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1295.96 1517.37 Q1292.35 1517.37 1290.52 1520.93 Q1288.72 1524.47 1288.72 1531.6 Q1288.72 1538.71 1290.52 1542.27 Q1292.35 1545.82 1295.96 1545.82 Q1299.6 1545.82 1301.4 1542.27 Q1303.23 1538.71 1303.23 1531.6 Q1303.23 1524.47 1301.4 1520.93 Q1299.6 1517.37 1295.96 1517.37 M1295.96 1513.66 Q1301.77 1513.66 1304.83 1518.27 Q1307.91 1522.85 1307.91 1531.6 Q1307.91 1540.33 1304.83 1544.94 Q1301.77 1549.52 1295.96 1549.52 Q1290.15 1549.52 1287.07 1544.94 Q1284.02 1540.33 1284.02 1531.6 Q1284.02 1522.85 1287.07 1518.27 Q1290.15 1513.66 1295.96 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1790.93 1517.37 Q1787.32 1517.37 1785.49 1520.93 Q1783.69 1524.47 1783.69 1531.6 Q1783.69 1538.71 1785.49 1542.27 Q1787.32 1545.82 1790.93 1545.82 Q1794.57 1545.82 1796.37 1542.27 Q1798.2 1538.71 1798.2 1531.6 Q1798.2 1524.47 1796.37 1520.93 Q1794.57 1517.37 1790.93 1517.37 M1790.93 1513.66 Q1796.74 1513.66 1799.8 1518.27 Q1802.88 1522.85 1802.88 1531.6 Q1802.88 1540.33 1799.8 1544.94 Q1796.74 1549.52 1790.93 1549.52 Q1785.12 1549.52 1782.04 1544.94 Q1778.99 1540.33 1778.99 1531.6 Q1778.99 1522.85 1782.04 1518.27 Q1785.12 1513.66 1790.93 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1811.09 1542.97 L1815.98 1542.97 L1815.98 1548.85 L1811.09 1548.85 L1811.09 1542.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1826.21 1514.29 L1844.57 1514.29 L1844.57 1518.22 L1830.49 1518.22 L1830.49 1526.7 Q1831.51 1526.35 1832.53 1526.19 Q1833.55 1526 1834.57 1526 Q1840.35 1526 1843.73 1529.17 Q1847.11 1532.34 1847.11 1537.76 Q1847.11 1543.34 1843.64 1546.44 Q1840.17 1549.52 1833.85 1549.52 Q1831.67 1549.52 1829.41 1549.15 Q1827.16 1548.78 1824.75 1548.04 L1824.75 1543.34 Q1826.84 1544.47 1829.06 1545.03 Q1831.28 1545.58 1833.76 1545.58 Q1837.76 1545.58 1840.1 1543.48 Q1842.44 1541.37 1842.44 1537.76 Q1842.44 1534.15 1840.1 1532.04 Q1837.76 1529.94 1833.76 1529.94 Q1831.88 1529.94 1830.01 1530.35 Q1828.16 1530.77 1826.21 1531.65 L1826.21 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M2319.91 1544.91 L2327.55 1544.91 L2327.55 1518.55 L2319.24 1520.21 L2319.24 1515.95 L2327.5 1514.29 L2332.18 1514.29 L2332.18 1544.91 L2339.82 1544.91 L2339.82 1548.85 L2319.91 1548.85 L2319.91 1544.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M2349.26 1542.97 L2354.14 1542.97 L2354.14 1548.85 L2349.26 1548.85 L2349.26 1542.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M2374.33 1517.37 Q2370.72 1517.37 2368.89 1520.93 Q2367.08 1524.47 2367.08 1531.6 Q2367.08 1538.71 2368.89 1542.27 Q2370.72 1545.82 2374.33 1545.82 Q2377.96 1545.82 2379.77 1542.27 Q2381.6 1538.71 2381.6 1531.6 Q2381.6 1524.47 2379.77 1520.93 Q2377.96 1517.37 2374.33 1517.37 M2374.33 1513.66 Q2380.14 1513.66 2383.2 1518.27 Q2386.27 1522.85 2386.27 1531.6 Q2386.27 1540.33 2383.2 1544.94 Q2380.14 1549.52 2374.33 1549.52 Q2368.52 1549.52 2365.44 1544.94 Q2362.39 1540.33 2362.39 1531.6 Q2362.39 1522.85 2365.44 1518.27 Q2368.52 1513.66 2374.33 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="193.936,1375.74 2352.76,1375.74 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="193.936,1098.97 2352.76,1098.97 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="193.936,822.2 2352.76,822.2 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="193.936,545.43 2352.76,545.43 "/>
<polyline clip-path="url(#clip092)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="193.936,268.66 2352.76,268.66 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,1486.45 193.936,47.2441 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,1375.74 212.834,1375.74 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,1098.97 212.834,1098.97 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,822.2 212.834,822.2 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,545.43 212.834,545.43 "/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="193.936,268.66 212.834,268.66 "/>
<path clip-path="url(#clip090)" d="M50.9921 1376.19 L80.6679 1376.19 L80.6679 1380.13 L50.9921 1380.13 L50.9921 1376.19 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M90.8067 1358.46 L109.163 1358.46 L109.163 1362.4 L95.0891 1362.4 L95.0891 1370.87 Q96.1076 1370.52 97.1261 1370.36 Q98.1447 1370.17 99.1632 1370.17 Q104.95 1370.17 108.33 1373.34 Q111.709 1376.52 111.709 1381.93 Q111.709 1387.51 108.237 1390.61 Q104.765 1393.69 98.4456 1393.69 Q96.2697 1393.69 94.0012 1393.32 Q91.7558 1392.95 89.3484 1392.21 L89.3484 1387.51 Q91.4317 1388.64 93.6539 1389.2 Q95.8761 1389.76 98.353 1389.76 Q102.358 1389.76 104.696 1387.65 Q107.033 1385.54 107.033 1381.93 Q107.033 1378.32 104.696 1376.21 Q102.358 1374.11 98.353 1374.11 Q96.478 1374.11 94.603 1374.52 Q92.7512 1374.94 90.8067 1375.82 L90.8067 1358.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M120.922 1387.14 L125.807 1387.14 L125.807 1393.02 L120.922 1393.02 L120.922 1387.14 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M145.992 1361.54 Q142.381 1361.54 140.552 1365.1 Q138.746 1368.65 138.746 1375.77 Q138.746 1382.88 140.552 1386.45 Q142.381 1389.99 145.992 1389.99 Q149.626 1389.99 151.431 1386.45 Q153.26 1382.88 153.26 1375.77 Q153.26 1368.65 151.431 1365.1 Q149.626 1361.54 145.992 1361.54 M145.992 1357.83 Q151.802 1357.83 154.857 1362.44 Q157.936 1367.02 157.936 1375.77 Q157.936 1384.5 154.857 1389.11 Q151.802 1393.69 145.992 1393.69 Q140.181 1393.69 137.103 1389.11 Q134.047 1384.5 134.047 1375.77 Q134.047 1367.02 137.103 1362.44 Q140.181 1357.83 145.992 1357.83 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M51.9875 1099.42 L81.6633 1099.42 L81.6633 1103.36 L51.9875 1103.36 L51.9875 1099.42 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M95.7836 1112.31 L112.103 1112.31 L112.103 1116.25 L90.1586 1116.25 L90.1586 1112.31 Q92.8206 1109.56 97.4039 1104.93 Q102.01 1100.28 103.191 1098.94 Q105.436 1096.41 106.316 1094.68 Q107.219 1092.92 107.219 1091.23 Q107.219 1088.47 105.274 1086.74 Q103.353 1085 100.251 1085 Q98.0521 1085 95.5984 1085.76 Q93.1678 1086.53 90.3901 1088.08 L90.3901 1083.36 Q93.2141 1082.22 95.6678 1081.64 Q98.1215 1081.06 100.159 1081.06 Q105.529 1081.06 108.723 1083.75 Q111.918 1086.44 111.918 1090.93 Q111.918 1093.06 111.108 1094.98 Q110.321 1096.88 108.214 1099.47 Q107.635 1100.14 104.534 1103.36 Q101.432 1106.55 95.7836 1112.31 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M121.918 1110.37 L126.802 1110.37 L126.802 1116.25 L121.918 1116.25 L121.918 1110.37 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M137.033 1081.69 L155.39 1081.69 L155.39 1085.63 L141.316 1085.63 L141.316 1094.1 Q142.334 1093.75 143.353 1093.59 Q144.371 1093.4 145.39 1093.4 Q151.177 1093.4 154.556 1096.57 Q157.936 1099.75 157.936 1105.16 Q157.936 1110.74 154.464 1113.84 Q150.992 1116.92 144.672 1116.92 Q142.496 1116.92 140.228 1116.55 Q137.982 1116.18 135.575 1115.44 L135.575 1110.74 Q137.658 1111.87 139.881 1112.43 Q142.103 1112.99 144.58 1112.99 Q148.584 1112.99 150.922 1110.88 Q153.26 1108.77 153.26 1105.16 Q153.26 1101.55 150.922 1099.44 Q148.584 1097.34 144.58 1097.34 Q142.705 1097.34 140.83 1097.75 Q138.978 1098.17 137.033 1099.05 L137.033 1081.69 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M100.76 807.999 Q97.1493 807.999 95.3206 811.563 Q93.515 815.105 93.515 822.235 Q93.515 829.341 95.3206 832.906 Q97.1493 836.448 100.76 836.448 Q104.395 836.448 106.2 832.906 Q108.029 829.341 108.029 822.235 Q108.029 815.105 106.2 811.563 Q104.395 807.999 100.76 807.999 M100.76 804.295 Q106.571 804.295 109.626 808.901 Q112.705 813.485 112.705 822.235 Q112.705 830.962 109.626 835.568 Q106.571 840.151 100.76 840.151 Q94.9502 840.151 91.8715 835.568 Q88.816 830.962 88.816 822.235 Q88.816 813.485 91.8715 808.901 Q94.9502 804.295 100.76 804.295 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M120.922 833.6 L125.807 833.6 L125.807 839.48 L120.922 839.48 L120.922 833.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M145.992 807.999 Q142.381 807.999 140.552 811.563 Q138.746 815.105 138.746 822.235 Q138.746 829.341 140.552 832.906 Q142.381 836.448 145.992 836.448 Q149.626 836.448 151.431 832.906 Q153.26 829.341 153.26 822.235 Q153.26 815.105 151.431 811.563 Q149.626 807.999 145.992 807.999 M145.992 804.295 Q151.802 804.295 154.857 808.901 Q157.936 813.485 157.936 822.235 Q157.936 830.962 154.857 835.568 Q151.802 840.151 145.992 840.151 Q140.181 840.151 137.103 835.568 Q134.047 830.962 134.047 822.235 Q134.047 813.485 137.103 808.901 Q140.181 804.295 145.992 804.295 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M95.7836 558.775 L112.103 558.775 L112.103 562.71 L90.1586 562.71 L90.1586 558.775 Q92.8206 556.02 97.4039 551.391 Q102.01 546.738 103.191 545.395 Q105.436 542.872 106.316 541.136 Q107.219 539.377 107.219 537.687 Q107.219 534.932 105.274 533.196 Q103.353 531.46 100.251 531.46 Q98.0521 531.46 95.5984 532.224 Q93.1678 532.988 90.3901 534.539 L90.3901 529.817 Q93.2141 528.682 95.6678 528.104 Q98.1215 527.525 100.159 527.525 Q105.529 527.525 108.723 530.21 Q111.918 532.895 111.918 537.386 Q111.918 539.516 111.108 541.437 Q110.321 543.335 108.214 545.928 Q107.635 546.599 104.534 549.817 Q101.432 553.011 95.7836 558.775 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M121.918 556.83 L126.802 556.83 L126.802 562.71 L121.918 562.71 L121.918 556.83 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M137.033 528.15 L155.39 528.15 L155.39 532.085 L141.316 532.085 L141.316 540.557 Q142.334 540.21 143.353 540.048 Q144.371 539.863 145.39 539.863 Q151.177 539.863 154.556 543.034 Q157.936 546.205 157.936 551.622 Q157.936 557.201 154.464 560.303 Q150.992 563.381 144.672 563.381 Q142.496 563.381 140.228 563.011 Q137.982 562.641 135.575 561.9 L135.575 557.201 Q137.658 558.335 139.881 558.891 Q142.103 559.446 144.58 559.446 Q148.584 559.446 150.922 557.34 Q153.26 555.233 153.26 551.622 Q153.26 548.011 150.922 545.905 Q148.584 543.798 144.58 543.798 Q142.705 543.798 140.83 544.215 Q138.978 544.631 137.033 545.511 L137.033 528.15 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M90.8067 251.38 L109.163 251.38 L109.163 255.315 L95.0891 255.315 L95.0891 263.787 Q96.1076 263.44 97.1261 263.278 Q98.1447 263.093 99.1632 263.093 Q104.95 263.093 108.33 266.264 Q111.709 269.436 111.709 274.852 Q111.709 280.431 108.237 283.533 Q104.765 286.611 98.4456 286.611 Q96.2697 286.611 94.0012 286.241 Q91.7558 285.871 89.3484 285.13 L89.3484 280.431 Q91.4317 281.565 93.6539 282.121 Q95.8761 282.676 98.353 282.676 Q102.358 282.676 104.696 280.57 Q107.033 278.463 107.033 274.852 Q107.033 271.241 104.696 269.135 Q102.358 267.028 98.353 267.028 Q96.478 267.028 94.603 267.445 Q92.7512 267.861 90.8067 268.741 L90.8067 251.38 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M120.922 280.06 L125.807 280.06 L125.807 285.94 L120.922 285.94 L120.922 280.06 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M145.992 254.459 Q142.381 254.459 140.552 258.024 Q138.746 261.565 138.746 268.695 Q138.746 275.801 140.552 279.366 Q142.381 282.908 145.992 282.908 Q149.626 282.908 151.431 279.366 Q153.26 275.801 153.26 268.695 Q153.26 261.565 151.431 258.024 Q149.626 254.459 145.992 254.459 M145.992 250.755 Q151.802 250.755 154.857 255.362 Q157.936 259.945 157.936 268.695 Q157.936 277.422 154.857 282.028 Q151.802 286.611 145.992 286.611 Q140.181 286.611 137.103 282.028 Q134.047 277.422 134.047 268.695 Q134.047 259.945 137.103 255.362 Q140.181 250.755 145.992 250.755 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><circle clip-path="url(#clip092)" cx="295.131" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1374.54" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1914.25" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="834.836" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1104.69" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="2184.1" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1644.39" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="564.983" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="699.909" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1779.32" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="2319.02" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1239.61" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="969.762" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="2049.17" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1509.47" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="430.057" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="362.594" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1442" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1981.71" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="902.299" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1172.15" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="2251.56" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1711.86" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="632.446" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="497.52" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1576.93" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="2116.63" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1037.23" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="767.373" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1846.78" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1307.08" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="227.668" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="244.533" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1323.94" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1863.65" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="784.238" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1054.09" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="2133.5" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1593.8" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="514.386" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="649.312" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1728.72" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="2268.43" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1189.02" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="919.165" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1998.57" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1458.87" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="379.46" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="446.923" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip092)" cx="1526.33" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<path clip-path="url(#clip090)" d="M985.464 198.898 L1561.23 198.898 L1561.23 95.2176 L985.464 95.2176  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip090)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="985.464,198.898 1561.23,198.898 1561.23,95.2176 985.464,95.2176 985.464,198.898 "/>
<circle clip-path="url(#clip090)" cx="1081.41" cy="147.058" r="20.48" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="4.55111"/>
<path clip-path="url(#clip090)" d="M1199.6 130.912 L1199.6 135.472 Q1196.94 134.199 1194.58 133.574 Q1192.22 132.949 1190.02 132.949 Q1186.2 132.949 1184.12 134.43 Q1182.06 135.912 1182.06 138.643 Q1182.06 140.935 1183.42 142.115 Q1184.81 143.273 1188.66 143.99 L1191.48 144.569 Q1196.71 145.565 1199.19 148.088 Q1201.69 150.588 1201.69 154.801 Q1201.69 159.824 1198.31 162.416 Q1194.95 165.009 1188.45 165.009 Q1185.99 165.009 1183.22 164.453 Q1180.46 163.898 1177.5 162.81 L1177.5 157.995 Q1180.34 159.592 1183.08 160.402 Q1185.81 161.213 1188.45 161.213 Q1192.45 161.213 1194.63 159.639 Q1196.8 158.064 1196.8 155.148 Q1196.8 152.602 1195.23 151.166 Q1193.68 149.731 1190.11 149.014 L1187.27 148.458 Q1182.03 147.416 1179.7 145.194 Q1177.36 142.972 1177.36 139.014 Q1177.36 134.43 1180.58 131.791 Q1183.82 129.153 1189.49 129.153 Q1191.92 129.153 1194.44 129.592 Q1196.97 130.032 1199.6 130.912 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1220.58 151.305 Q1215.41 151.305 1213.42 152.486 Q1211.43 153.666 1211.43 156.514 Q1211.43 158.782 1212.91 160.125 Q1214.42 161.444 1216.99 161.444 Q1220.53 161.444 1222.66 158.944 Q1224.81 156.421 1224.81 152.254 L1224.81 151.305 L1220.58 151.305 M1229.07 149.546 L1229.07 164.338 L1224.81 164.338 L1224.81 160.402 Q1223.35 162.763 1221.18 163.898 Q1219 165.009 1215.85 165.009 Q1211.87 165.009 1209.51 162.787 Q1207.17 160.541 1207.17 156.791 Q1207.17 152.416 1210.09 150.194 Q1213.03 147.972 1218.84 147.972 L1224.81 147.972 L1224.81 147.555 Q1224.81 144.615 1222.87 143.018 Q1220.95 141.398 1217.45 141.398 Q1215.23 141.398 1213.12 141.93 Q1211.02 142.463 1209.07 143.527 L1209.07 139.592 Q1211.41 138.69 1213.61 138.25 Q1215.81 137.787 1217.89 137.787 Q1223.52 137.787 1226.29 140.703 Q1229.07 143.62 1229.07 149.546 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1258.03 143.389 Q1259.63 140.518 1261.85 139.153 Q1264.07 137.787 1267.08 137.787 Q1271.13 137.787 1273.33 140.634 Q1275.53 143.458 1275.53 148.689 L1275.53 164.338 L1271.25 164.338 L1271.25 148.828 Q1271.25 145.102 1269.93 143.296 Q1268.61 141.49 1265.9 141.49 Q1262.59 141.49 1260.67 143.69 Q1258.75 145.889 1258.75 149.685 L1258.75 164.338 L1254.46 164.338 L1254.46 148.828 Q1254.46 145.078 1253.15 143.296 Q1251.83 141.49 1249.07 141.49 Q1245.81 141.49 1243.89 143.713 Q1241.97 145.912 1241.97 149.685 L1241.97 164.338 L1237.68 164.338 L1237.68 138.412 L1241.97 138.412 L1241.97 142.44 Q1243.42 140.055 1245.46 138.921 Q1247.5 137.787 1250.3 137.787 Q1253.12 137.787 1255.09 139.222 Q1257.08 140.657 1258.03 143.389 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1288.15 160.449 L1288.15 174.199 L1283.86 174.199 L1283.86 138.412 L1288.15 138.412 L1288.15 142.347 Q1289.49 140.032 1291.52 138.921 Q1293.59 137.787 1296.43 137.787 Q1301.15 137.787 1304.09 141.537 Q1307.06 145.287 1307.06 151.398 Q1307.06 157.509 1304.09 161.259 Q1301.15 165.009 1296.43 165.009 Q1293.59 165.009 1291.52 163.898 Q1289.49 162.763 1288.15 160.449 M1302.64 151.398 Q1302.64 146.699 1300.69 144.037 Q1298.77 141.352 1295.39 141.352 Q1292.01 141.352 1290.07 144.037 Q1288.15 146.699 1288.15 151.398 Q1288.15 156.097 1290.07 158.782 Q1292.01 161.444 1295.39 161.444 Q1298.77 161.444 1300.69 158.782 Q1302.64 156.097 1302.64 151.398 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1314.12 128.319 L1318.38 128.319 L1318.38 164.338 L1314.12 164.338 L1314.12 128.319 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1349.46 150.31 L1349.46 152.393 L1329.88 152.393 Q1330.16 156.791 1332.52 159.106 Q1334.9 161.398 1339.14 161.398 Q1341.59 161.398 1343.89 160.796 Q1346.2 160.194 1348.47 158.99 L1348.47 163.018 Q1346.18 163.99 1343.77 164.5 Q1341.36 165.009 1338.89 165.009 Q1332.68 165.009 1329.05 161.398 Q1325.44 157.787 1325.44 151.629 Q1325.44 145.264 1328.86 141.537 Q1332.31 137.787 1338.15 137.787 Q1343.38 137.787 1346.41 141.166 Q1349.46 144.523 1349.46 150.31 M1345.21 149.06 Q1345.16 145.565 1343.24 143.481 Q1341.34 141.398 1338.19 141.398 Q1334.63 141.398 1332.47 143.412 Q1330.34 145.426 1330.02 149.083 L1345.21 149.06 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1373.52 142.347 L1373.52 128.319 L1377.77 128.319 L1377.77 164.338 L1373.52 164.338 L1373.52 160.449 Q1372.17 162.763 1370.11 163.898 Q1368.08 165.009 1365.21 165.009 Q1360.51 165.009 1357.54 161.259 Q1354.6 157.509 1354.6 151.398 Q1354.6 145.287 1357.54 141.537 Q1360.51 137.787 1365.21 137.787 Q1368.08 137.787 1370.11 138.921 Q1372.17 140.032 1373.52 142.347 M1359 151.398 Q1359 156.097 1360.92 158.782 Q1362.87 161.444 1366.25 161.444 Q1369.63 161.444 1371.57 158.782 Q1373.52 156.097 1373.52 151.398 Q1373.52 146.699 1371.57 144.037 Q1369.63 141.352 1366.25 141.352 Q1362.87 141.352 1360.92 144.037 Q1359 146.699 1359 151.398 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1406.48 133.62 L1406.48 146.606 L1412.36 146.606 Q1415.62 146.606 1417.4 144.916 Q1419.19 143.227 1419.19 140.102 Q1419.19 137 1417.4 135.31 Q1415.62 133.62 1412.36 133.62 L1406.48 133.62 M1401.8 129.778 L1412.36 129.778 Q1418.17 129.778 1421.13 132.416 Q1424.12 135.032 1424.12 140.102 Q1424.12 145.217 1421.13 147.833 Q1418.17 150.449 1412.36 150.449 L1406.48 150.449 L1406.48 164.338 L1401.8 164.338 L1401.8 129.778 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1438.56 141.398 Q1435.14 141.398 1433.14 144.083 Q1431.15 146.745 1431.15 151.398 Q1431.15 156.051 1433.12 158.736 Q1435.11 161.398 1438.56 161.398 Q1441.96 161.398 1443.95 158.713 Q1445.95 156.027 1445.95 151.398 Q1445.95 146.791 1443.95 144.106 Q1441.96 141.398 1438.56 141.398 M1438.56 137.787 Q1444.12 137.787 1447.29 141.398 Q1450.46 145.009 1450.46 151.398 Q1450.46 157.764 1447.29 161.398 Q1444.12 165.009 1438.56 165.009 Q1432.98 165.009 1429.81 161.398 Q1426.66 157.764 1426.66 151.398 Q1426.66 145.009 1429.81 141.398 Q1432.98 137.787 1438.56 137.787 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1457.52 138.412 L1461.78 138.412 L1461.78 164.338 L1457.52 164.338 L1457.52 138.412 M1457.52 128.319 L1461.78 128.319 L1461.78 133.713 L1457.52 133.713 L1457.52 128.319 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1492.24 148.689 L1492.24 164.338 L1487.98 164.338 L1487.98 148.828 Q1487.98 145.148 1486.55 143.319 Q1485.11 141.49 1482.24 141.49 Q1478.79 141.49 1476.8 143.69 Q1474.81 145.889 1474.81 149.685 L1474.81 164.338 L1470.53 164.338 L1470.53 138.412 L1474.81 138.412 L1474.81 142.44 Q1476.34 140.102 1478.4 138.944 Q1480.48 137.787 1483.19 137.787 Q1487.66 137.787 1489.95 140.565 Q1492.24 143.319 1492.24 148.689 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1504.95 131.051 L1504.95 138.412 L1513.72 138.412 L1513.72 141.722 L1504.95 141.722 L1504.95 155.796 Q1504.95 158.967 1505.81 159.87 Q1506.69 160.773 1509.35 160.773 L1513.72 160.773 L1513.72 164.338 L1509.35 164.338 Q1504.42 164.338 1502.54 162.509 Q1500.67 160.657 1500.67 155.796 L1500.67 141.722 L1497.54 141.722 L1497.54 138.412 L1500.67 138.412 L1500.67 131.051 L1504.95 131.051 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip090)" d="M1535.85 139.176 L1535.85 143.203 Q1534.05 142.277 1532.1 141.815 Q1530.16 141.352 1528.07 141.352 Q1524.9 141.352 1523.31 142.324 Q1521.73 143.296 1521.73 145.24 Q1521.73 146.722 1522.87 147.578 Q1524 148.412 1527.43 149.176 L1528.88 149.5 Q1533.42 150.472 1535.32 152.254 Q1537.24 154.014 1537.24 157.185 Q1537.24 160.796 1534.37 162.902 Q1531.52 165.009 1526.52 165.009 Q1524.44 165.009 1522.17 164.592 Q1519.93 164.199 1517.43 163.388 L1517.43 158.99 Q1519.79 160.217 1522.08 160.842 Q1524.37 161.444 1526.62 161.444 Q1529.63 161.444 1531.25 160.426 Q1532.87 159.384 1532.87 157.509 Q1532.87 155.773 1531.69 154.847 Q1530.53 153.921 1526.57 153.064 L1525.09 152.717 Q1521.13 151.884 1519.37 150.171 Q1517.61 148.435 1517.61 145.426 Q1517.61 141.768 1520.2 139.778 Q1522.8 137.787 1527.57 137.787 Q1529.93 137.787 1532.01 138.134 Q1534.09 138.481 1535.85 139.176 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /></svg>
<p>How does a regular surrogate perform on such a dataset?</p><pre><code class="language-julia hljs">RAD_1D = RadialBasis(x, y, lb, ub, rad = linearRadial(), scale_factor = 1.0, sparse = false)
RAD_at0 = RAD_1D(0.0) #true value should be 5.0</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-7.0503948590956756e-15</code></pre><p>As we can see, the prediction is far away from the ground truth. Now, how does the MOE perform?</p><pre><code class="language-julia hljs">expert_types = [
        RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                             sparse = false),
        RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                        sparse = false)
    ]

MOE_1D_RAD_RAD = MOE(x, y, expert_types)
MOE_at0 = MOE_1D_RAD_RAD(0.0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">5.535714285714286</code></pre><p>As we can see the accuracy is significantly better. </p><h3 id="Under-the-Hood-How-SurrogatesMOE-Works"><a class="docs-heading-anchor" href="#Under-the-Hood-How-SurrogatesMOE-Works">Under the Hood - How SurrogatesMOE Works</a><a id="Under-the-Hood-How-SurrogatesMOE-Works-1"></a><a class="docs-heading-anchor-permalink" href="#Under-the-Hood-How-SurrogatesMOE-Works" title="Permalink"></a></h3><p>First, we create Gaussian Mixture Models for the number of expert types provided using the x and y values. For example, in the above example, we create two clusters. Then, using a small test dataset kept aside from the input data, we choose the best surrogate model for each of the clusters. At prediction time, we use the appropriate surrogate model based on the cluster to which the new point belongs.</p><h3 id="N-Dimensional-Example"><a class="docs-heading-anchor" href="#N-Dimensional-Example">N-Dimensional Example</a><a id="N-Dimensional-Example-1"></a><a class="docs-heading-anchor-permalink" href="#N-Dimensional-Example" title="Permalink"></a></h3><pre><code class="language-julia hljs">using Surrogates
using SurrogatesMOE

# helper to test accuracy of predictors
function rmse(a, b)
    a = vec(a)
    b = vec(b)
    if (size(a) != size(b))
        println(&quot;error in inputs&quot;)
        return
    end
    n = size(a, 1)
    return sqrt(sum((a - b) .^ 2) / n)
end

# multidimensional input function
function discont_NDIM(x)
    if (x[1] &gt;= 0.0 &amp;&amp; x[2] &gt;= 0.0)
        return sum(x .^ 2) + 5
    else
        return sum(x .^ 2) - 5
    end
end
lb = [-1.0, -1.0]
ub = [1.0, 1.0]
n = 150
x = sample(n, lb, ub, RandomSample())
y = discont_NDIM.(x)
x_test = sample(10, lb, ub, GoldenSample())

expert_types = [
    RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                            sparse = false),
    RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                            sparse = false),
]
moe_nd_rad_rad = MOE(x, y, expert_types, ndim = 2)
moe_pred_vals = moe_nd_rad_rad.(x_test)
true_vals = discont_NDIM.(x_test)
moe_rmse = rmse(true_vals, moe_pred_vals)
rbf = RadialBasis(x, y, lb, ub)
rbf_pred_vals = rbf.(x_test)
rbf_rmse = rmse(true_vals, rbf_pred_vals)
println(rbf_rmse &gt; moe_rmse)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">[ Info: Initializing GMM, 2 Gaussians diag covariance 3 dimensions using 135 data points
K-means converged with 2 iterations (objv = 85.45263486996825)
┌ Info: K-means with 135 data points using 2 iterations
└ 16.9 data points per parameter
false</code></pre><h3 id="Usage-Notes-Example-With-Other-Surrogates"><a class="docs-heading-anchor" href="#Usage-Notes-Example-With-Other-Surrogates">Usage Notes - Example With Other Surrogates</a><a id="Usage-Notes-Example-With-Other-Surrogates-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Notes-Example-With-Other-Surrogates" title="Permalink"></a></h3><p>From the above example, simply change or add to the expert types:</p><pre><code class="language-julia hljs">using Surrogates
#To use Inverse Distance and Radial Basis Surrogates
expert_types = [
    KrigingStructure(p = [1.0, 1.0], theta = [1.0, 1.0]),
    InverseDistanceStructure(p = 1.0)
]

#With 3 Surrogates
expert_types = [
    RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                            sparse = false),
    LinearStructure(),
    InverseDistanceStructure(p = 1.0),
]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gekpls/">« GEKPLS</a><a class="docs-footer-nextpage" href="../parallel/">Parallel Optimization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 13 December 2023 05:03">Wednesday 13 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
