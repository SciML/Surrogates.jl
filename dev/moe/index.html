<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>MOE · Surrogates.jl</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-90474609-3"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-90474609-3', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://surrogates.sciml.ai/stable/moe/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Surrogates.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Surrogates.jl: Surrogate models and optimization for scientific machine learning</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Basics</a></li><li><a class="tocitem" href="../radials/">Radials</a></li><li><a class="tocitem" href="../kriging/">Kriging</a></li><li><a class="tocitem" href="../abstractgps/">Gaussian Process</a></li><li><a class="tocitem" href="../lobachevsky/">Lobachevsky</a></li><li><a class="tocitem" href="../LinearSurrogate/">Linear</a></li><li><a class="tocitem" href="../InverseDistance/">InverseDistance</a></li><li><a class="tocitem" href="../randomforest/">RandomForest</a></li><li><a class="tocitem" href="../secondorderpoly/">SecondOrderPolynomial</a></li><li><a class="tocitem" href="../neural/">NeuralSurrogate</a></li><li><a class="tocitem" href="../wendland/">Wendland</a></li><li><a class="tocitem" href="../polychaos/">Polynomial Chaos</a></li><li><a class="tocitem" href="../variablefidelity/">Variable Fidelity</a></li><li><a class="tocitem" href="../gek/">Gradient Enhanced Kriging</a></li><li><a class="tocitem" href="../gekpls/">GEKPLS</a></li><li class="is-active"><a class="tocitem" href>MOE</a><ul class="internal"><li><a class="tocitem" href="#Mixture-of-Experts-(MOE)"><span>Mixture of Experts (MOE)</span></a></li></ul></li></ul></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../samples/">Samples</a></li><li><a class="tocitem" href="../surrogate/">Surrogates</a></li><li><a class="tocitem" href="../optimizations/">Optimization</a></li></ul></li><li><span class="tocitem">Benchmarks</span><ul><li><a class="tocitem" href="../sphere_function/">Sphere function</a></li><li><a class="tocitem" href="../lp/">Lp norm</a></li><li><a class="tocitem" href="../rosenbrock/">Rosenbrock</a></li><li><a class="tocitem" href="../tensor_prod/">Tensor product</a></li><li><a class="tocitem" href="../cantilever/">Cantilever beam</a></li><li><a class="tocitem" href="../water_flow/">Water Flow function</a></li><li><a class="tocitem" href="../welded_beam/">Welded beam function</a></li><li><a class="tocitem" href="../BraninFunction/">Branin function</a></li><li><a class="tocitem" href="../ackley/">Ackley function</a></li><li><a class="tocitem" href="../gramacylee/">Gramacy &amp; Lee Function</a></li><li><a class="tocitem" href="../Salustowicz/">Salustowicz Benchmark</a></li><li><a class="tocitem" href="../multi_objective_opt/">Multi objective optimization</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>MOE</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>MOE</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SciML/Surrogates.jl/blob/master/docs/src/moe.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Mixture-of-Experts-(MOE)"><a class="docs-heading-anchor" href="#Mixture-of-Experts-(MOE)">Mixture of Experts (MOE)</a><a id="Mixture-of-Experts-(MOE)-1"></a><a class="docs-heading-anchor-permalink" href="#Mixture-of-Experts-(MOE)" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This surrogate requires the &#39;SurrogatesMOE&#39; module which can be added by inputting &quot;]add SurrogatesMOE&quot; from the Julia command line. </p></div></div><p>The Mixture of Experts (MOE) Surrogate model represents the interpolating function as a combination of other surrogate models. SurrogatesMOE is a Julia implementation of the <a href="https://smt.readthedocs.io/en/latest/_src_docs/applications/moe.html">Python version from SMT</a>.</p><p>MOE is most useful when we have a discontinuous function. For example, let&#39;s say we want to build a surrogate for the following function:</p><h3 id="D-Example"><a class="docs-heading-anchor" href="#D-Example">1D Example</a><a id="D-Example-1"></a><a class="docs-heading-anchor-permalink" href="#D-Example" title="Permalink"></a></h3><pre><code class="language-julia hljs">function discont_1D(x)
    if x &lt; 0.0
        return -5.0
    elseif x &gt;= 0.0
        return 5.0
    end
end</code></pre><p>Let&#39;s choose the MOE Surrogate for 1D. Note that we have to import the <code>SurrogatesMOE</code> package in addition to <code>Surrogates</code> and <code>Plots</code>.</p><pre><code class="language-julia hljs">using Surrogates
using SurrogatesMOE
using Plots
default()

lb = -1.0
ub = 1.0
x = sample(50, lb, ub, SobolSample())
y = discont_1D.(x)
scatter(x, y, label=&quot;Sampled Points&quot;, xlims=(lb, ub), ylims=(-6.0, 7.0), legend=:top)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip940">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip940)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip941">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip940)" d="
M193.936 1486.45 L2352.76 1486.45 L2352.76 47.2441 L193.936 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip942">
    <rect x="193" y="47" width="2160" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  193.936,1486.45 193.936,47.2441 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  733.641,1486.45 733.641,47.2441 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1273.35,1486.45 1273.35,47.2441 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1813.05,1486.45 1813.05,47.2441 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2352.76,1486.45 2352.76,47.2441 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,1486.45 193.936,1467.55 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  733.641,1486.45 733.641,1467.55 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1273.35,1486.45 1273.35,1467.55 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1813.05,1486.45 1813.05,1467.55 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2352.76,1486.45 2352.76,1467.55 
  "/>
<path clip-path="url(#clip940)" d="M140.464 1532.02 L170.14 1532.02 L170.14 1535.95 L140.464 1535.95 L140.464 1532.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M181.043 1544.91 L188.681 1544.91 L188.681 1518.55 L180.371 1520.21 L180.371 1515.95 L188.635 1514.29 L193.311 1514.29 L193.311 1544.91 L200.95 1544.91 L200.95 1548.85 L181.043 1548.85 L181.043 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M210.394 1542.97 L215.278 1542.97 L215.278 1548.85 L210.394 1548.85 L210.394 1542.97 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M235.464 1517.37 Q231.852 1517.37 230.024 1520.93 Q228.218 1524.47 228.218 1531.6 Q228.218 1538.71 230.024 1542.27 Q231.852 1545.82 235.464 1545.82 Q239.098 1545.82 240.903 1542.27 Q242.732 1538.71 242.732 1531.6 Q242.732 1524.47 240.903 1520.93 Q239.098 1517.37 235.464 1517.37 M235.464 1513.66 Q241.274 1513.66 244.329 1518.27 Q247.408 1522.85 247.408 1531.6 Q247.408 1540.33 244.329 1544.94 Q241.274 1549.52 235.464 1549.52 Q229.653 1549.52 226.575 1544.94 Q223.519 1540.33 223.519 1531.6 Q223.519 1522.85 226.575 1518.27 Q229.653 1513.66 235.464 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M680.667 1532.02 L710.342 1532.02 L710.342 1535.95 L680.667 1535.95 L680.667 1532.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M730.435 1517.37 Q726.824 1517.37 724.995 1520.93 Q723.19 1524.47 723.19 1531.6 Q723.19 1538.71 724.995 1542.27 Q726.824 1545.82 730.435 1545.82 Q734.069 1545.82 735.875 1542.27 Q737.703 1538.71 737.703 1531.6 Q737.703 1524.47 735.875 1520.93 Q734.069 1517.37 730.435 1517.37 M730.435 1513.66 Q736.245 1513.66 739.301 1518.27 Q742.379 1522.85 742.379 1531.6 Q742.379 1540.33 739.301 1544.94 Q736.245 1549.52 730.435 1549.52 Q724.625 1549.52 721.546 1544.94 Q718.491 1540.33 718.491 1531.6 Q718.491 1522.85 721.546 1518.27 Q724.625 1513.66 730.435 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M750.597 1542.97 L755.481 1542.97 L755.481 1548.85 L750.597 1548.85 L750.597 1542.97 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M765.713 1514.29 L784.069 1514.29 L784.069 1518.22 L769.995 1518.22 L769.995 1526.7 Q771.013 1526.35 772.032 1526.19 Q773.05 1526 774.069 1526 Q779.856 1526 783.236 1529.17 Q786.615 1532.34 786.615 1537.76 Q786.615 1543.34 783.143 1546.44 Q779.671 1549.52 773.351 1549.52 Q771.175 1549.52 768.907 1549.15 Q766.662 1548.78 764.254 1548.04 L764.254 1543.34 Q766.338 1544.47 768.56 1545.03 Q770.782 1545.58 773.259 1545.58 Q777.263 1545.58 779.601 1543.48 Q781.939 1541.37 781.939 1537.76 Q781.939 1534.15 779.601 1532.04 Q777.263 1529.94 773.259 1529.94 Q771.384 1529.94 769.509 1530.35 Q767.657 1530.77 765.713 1531.65 L765.713 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1250.73 1517.37 Q1247.12 1517.37 1245.29 1520.93 Q1243.49 1524.47 1243.49 1531.6 Q1243.49 1538.71 1245.29 1542.27 Q1247.12 1545.82 1250.73 1545.82 Q1254.36 1545.82 1256.17 1542.27 Q1258 1538.71 1258 1531.6 Q1258 1524.47 1256.17 1520.93 Q1254.36 1517.37 1250.73 1517.37 M1250.73 1513.66 Q1256.54 1513.66 1259.6 1518.27 Q1262.67 1522.85 1262.67 1531.6 Q1262.67 1540.33 1259.6 1544.94 Q1256.54 1549.52 1250.73 1549.52 Q1244.92 1549.52 1241.84 1544.94 Q1238.79 1540.33 1238.79 1531.6 Q1238.79 1522.85 1241.84 1518.27 Q1244.92 1513.66 1250.73 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1270.89 1542.97 L1275.78 1542.97 L1275.78 1548.85 L1270.89 1548.85 L1270.89 1542.97 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1295.96 1517.37 Q1292.35 1517.37 1290.52 1520.93 Q1288.72 1524.47 1288.72 1531.6 Q1288.72 1538.71 1290.52 1542.27 Q1292.35 1545.82 1295.96 1545.82 Q1299.6 1545.82 1301.4 1542.27 Q1303.23 1538.71 1303.23 1531.6 Q1303.23 1524.47 1301.4 1520.93 Q1299.6 1517.37 1295.96 1517.37 M1295.96 1513.66 Q1301.77 1513.66 1304.83 1518.27 Q1307.91 1522.85 1307.91 1531.6 Q1307.91 1540.33 1304.83 1544.94 Q1301.77 1549.52 1295.96 1549.52 Q1290.15 1549.52 1287.07 1544.94 Q1284.02 1540.33 1284.02 1531.6 Q1284.02 1522.85 1287.07 1518.27 Q1290.15 1513.66 1295.96 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1790.93 1517.37 Q1787.32 1517.37 1785.49 1520.93 Q1783.69 1524.47 1783.69 1531.6 Q1783.69 1538.71 1785.49 1542.27 Q1787.32 1545.82 1790.93 1545.82 Q1794.57 1545.82 1796.37 1542.27 Q1798.2 1538.71 1798.2 1531.6 Q1798.2 1524.47 1796.37 1520.93 Q1794.57 1517.37 1790.93 1517.37 M1790.93 1513.66 Q1796.74 1513.66 1799.8 1518.27 Q1802.88 1522.85 1802.88 1531.6 Q1802.88 1540.33 1799.8 1544.94 Q1796.74 1549.52 1790.93 1549.52 Q1785.12 1549.52 1782.04 1544.94 Q1778.99 1540.33 1778.99 1531.6 Q1778.99 1522.85 1782.04 1518.27 Q1785.12 1513.66 1790.93 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1811.09 1542.97 L1815.98 1542.97 L1815.98 1548.85 L1811.09 1548.85 L1811.09 1542.97 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1826.21 1514.29 L1844.57 1514.29 L1844.57 1518.22 L1830.49 1518.22 L1830.49 1526.7 Q1831.51 1526.35 1832.53 1526.19 Q1833.55 1526 1834.57 1526 Q1840.35 1526 1843.73 1529.17 Q1847.11 1532.34 1847.11 1537.76 Q1847.11 1543.34 1843.64 1546.44 Q1840.17 1549.52 1833.85 1549.52 Q1831.67 1549.52 1829.41 1549.15 Q1827.16 1548.78 1824.75 1548.04 L1824.75 1543.34 Q1826.84 1544.47 1829.06 1545.03 Q1831.28 1545.58 1833.76 1545.58 Q1837.76 1545.58 1840.1 1543.48 Q1842.44 1541.37 1842.44 1537.76 Q1842.44 1534.15 1840.1 1532.04 Q1837.76 1529.94 1833.76 1529.94 Q1831.88 1529.94 1830.01 1530.35 Q1828.16 1530.77 1826.21 1531.65 L1826.21 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M2319.91 1544.91 L2327.55 1544.91 L2327.55 1518.55 L2319.24 1520.21 L2319.24 1515.95 L2327.5 1514.29 L2332.18 1514.29 L2332.18 1544.91 L2339.82 1544.91 L2339.82 1548.85 L2319.91 1548.85 L2319.91 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M2349.26 1542.97 L2354.14 1542.97 L2354.14 1548.85 L2349.26 1548.85 L2349.26 1542.97 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M2374.33 1517.37 Q2370.72 1517.37 2368.89 1520.93 Q2367.08 1524.47 2367.08 1531.6 Q2367.08 1538.71 2368.89 1542.27 Q2370.72 1545.82 2374.33 1545.82 Q2377.96 1545.82 2379.77 1542.27 Q2381.6 1538.71 2381.6 1531.6 Q2381.6 1524.47 2379.77 1520.93 Q2377.96 1517.37 2374.33 1517.37 M2374.33 1513.66 Q2380.14 1513.66 2383.2 1518.27 Q2386.27 1522.85 2386.27 1531.6 Q2386.27 1540.33 2383.2 1544.94 Q2380.14 1549.52 2374.33 1549.52 Q2368.52 1549.52 2365.44 1544.94 Q2362.39 1540.33 2362.39 1531.6 Q2362.39 1522.85 2365.44 1518.27 Q2368.52 1513.66 2374.33 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  193.936,1375.74 2352.76,1375.74 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  193.936,1098.97 2352.76,1098.97 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  193.936,822.2 2352.76,822.2 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  193.936,545.43 2352.76,545.43 
  "/>
<polyline clip-path="url(#clip942)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  193.936,268.66 2352.76,268.66 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,1486.45 193.936,47.2441 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,1375.74 212.834,1375.74 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,1098.97 212.834,1098.97 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,822.2 212.834,822.2 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,545.43 212.834,545.43 
  "/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  193.936,268.66 212.834,268.66 
  "/>
<path clip-path="url(#clip940)" d="M50.9921 1376.19 L80.6679 1376.19 L80.6679 1380.13 L50.9921 1380.13 L50.9921 1376.19 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M90.8067 1358.46 L109.163 1358.46 L109.163 1362.4 L95.0891 1362.4 L95.0891 1370.87 Q96.1076 1370.52 97.1261 1370.36 Q98.1447 1370.17 99.1632 1370.17 Q104.95 1370.17 108.33 1373.34 Q111.709 1376.52 111.709 1381.93 Q111.709 1387.51 108.237 1390.61 Q104.765 1393.69 98.4456 1393.69 Q96.2697 1393.69 94.0012 1393.32 Q91.7558 1392.95 89.3484 1392.21 L89.3484 1387.51 Q91.4317 1388.64 93.6539 1389.2 Q95.8761 1389.76 98.353 1389.76 Q102.358 1389.76 104.696 1387.65 Q107.033 1385.54 107.033 1381.93 Q107.033 1378.32 104.696 1376.21 Q102.358 1374.11 98.353 1374.11 Q96.478 1374.11 94.603 1374.52 Q92.7512 1374.94 90.8067 1375.82 L90.8067 1358.46 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M120.922 1387.14 L125.807 1387.14 L125.807 1393.02 L120.922 1393.02 L120.922 1387.14 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M145.992 1361.54 Q142.381 1361.54 140.552 1365.1 Q138.746 1368.65 138.746 1375.77 Q138.746 1382.88 140.552 1386.45 Q142.381 1389.99 145.992 1389.99 Q149.626 1389.99 151.431 1386.45 Q153.26 1382.88 153.26 1375.77 Q153.26 1368.65 151.431 1365.1 Q149.626 1361.54 145.992 1361.54 M145.992 1357.83 Q151.802 1357.83 154.857 1362.44 Q157.936 1367.02 157.936 1375.77 Q157.936 1384.5 154.857 1389.11 Q151.802 1393.69 145.992 1393.69 Q140.181 1393.69 137.103 1389.11 Q134.047 1384.5 134.047 1375.77 Q134.047 1367.02 137.103 1362.44 Q140.181 1357.83 145.992 1357.83 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M51.9875 1099.42 L81.6633 1099.42 L81.6633 1103.36 L51.9875 1103.36 L51.9875 1099.42 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M95.7836 1112.31 L112.103 1112.31 L112.103 1116.25 L90.1586 1116.25 L90.1586 1112.31 Q92.8206 1109.56 97.4039 1104.93 Q102.01 1100.28 103.191 1098.94 Q105.436 1096.41 106.316 1094.68 Q107.219 1092.92 107.219 1091.23 Q107.219 1088.47 105.274 1086.74 Q103.353 1085 100.251 1085 Q98.0521 1085 95.5984 1085.76 Q93.1678 1086.53 90.3901 1088.08 L90.3901 1083.36 Q93.2141 1082.22 95.6678 1081.64 Q98.1215 1081.06 100.159 1081.06 Q105.529 1081.06 108.723 1083.75 Q111.918 1086.44 111.918 1090.93 Q111.918 1093.06 111.108 1094.98 Q110.321 1096.88 108.214 1099.47 Q107.635 1100.14 104.534 1103.36 Q101.432 1106.55 95.7836 1112.31 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M121.918 1110.37 L126.802 1110.37 L126.802 1116.25 L121.918 1116.25 L121.918 1110.37 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M137.033 1081.69 L155.39 1081.69 L155.39 1085.63 L141.316 1085.63 L141.316 1094.1 Q142.334 1093.75 143.353 1093.59 Q144.371 1093.4 145.39 1093.4 Q151.177 1093.4 154.556 1096.57 Q157.936 1099.75 157.936 1105.16 Q157.936 1110.74 154.464 1113.84 Q150.992 1116.92 144.672 1116.92 Q142.496 1116.92 140.228 1116.55 Q137.982 1116.18 135.575 1115.44 L135.575 1110.74 Q137.658 1111.87 139.881 1112.43 Q142.103 1112.99 144.58 1112.99 Q148.584 1112.99 150.922 1110.88 Q153.26 1108.77 153.26 1105.16 Q153.26 1101.55 150.922 1099.44 Q148.584 1097.34 144.58 1097.34 Q142.705 1097.34 140.83 1097.75 Q138.978 1098.17 137.033 1099.05 L137.033 1081.69 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M100.76 807.999 Q97.1493 807.999 95.3206 811.563 Q93.515 815.105 93.515 822.235 Q93.515 829.341 95.3206 832.906 Q97.1493 836.448 100.76 836.448 Q104.395 836.448 106.2 832.906 Q108.029 829.341 108.029 822.235 Q108.029 815.105 106.2 811.563 Q104.395 807.999 100.76 807.999 M100.76 804.295 Q106.571 804.295 109.626 808.901 Q112.705 813.485 112.705 822.235 Q112.705 830.962 109.626 835.568 Q106.571 840.151 100.76 840.151 Q94.9502 840.151 91.8715 835.568 Q88.816 830.962 88.816 822.235 Q88.816 813.485 91.8715 808.901 Q94.9502 804.295 100.76 804.295 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M120.922 833.6 L125.807 833.6 L125.807 839.48 L120.922 839.48 L120.922 833.6 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M145.992 807.999 Q142.381 807.999 140.552 811.563 Q138.746 815.105 138.746 822.235 Q138.746 829.341 140.552 832.906 Q142.381 836.448 145.992 836.448 Q149.626 836.448 151.431 832.906 Q153.26 829.341 153.26 822.235 Q153.26 815.105 151.431 811.563 Q149.626 807.999 145.992 807.999 M145.992 804.295 Q151.802 804.295 154.857 808.901 Q157.936 813.485 157.936 822.235 Q157.936 830.962 154.857 835.568 Q151.802 840.151 145.992 840.151 Q140.181 840.151 137.103 835.568 Q134.047 830.962 134.047 822.235 Q134.047 813.485 137.103 808.901 Q140.181 804.295 145.992 804.295 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M95.7836 558.775 L112.103 558.775 L112.103 562.71 L90.1586 562.71 L90.1586 558.775 Q92.8206 556.02 97.4039 551.391 Q102.01 546.738 103.191 545.395 Q105.436 542.872 106.316 541.136 Q107.219 539.377 107.219 537.687 Q107.219 534.932 105.274 533.196 Q103.353 531.46 100.251 531.46 Q98.0521 531.46 95.5984 532.224 Q93.1678 532.988 90.3901 534.539 L90.3901 529.817 Q93.2141 528.682 95.6678 528.104 Q98.1215 527.525 100.159 527.525 Q105.529 527.525 108.723 530.21 Q111.918 532.895 111.918 537.386 Q111.918 539.516 111.108 541.437 Q110.321 543.335 108.214 545.928 Q107.635 546.599 104.534 549.817 Q101.432 553.011 95.7836 558.775 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M121.918 556.83 L126.802 556.83 L126.802 562.71 L121.918 562.71 L121.918 556.83 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M137.033 528.15 L155.39 528.15 L155.39 532.085 L141.316 532.085 L141.316 540.557 Q142.334 540.21 143.353 540.048 Q144.371 539.863 145.39 539.863 Q151.177 539.863 154.556 543.034 Q157.936 546.205 157.936 551.622 Q157.936 557.201 154.464 560.303 Q150.992 563.381 144.672 563.381 Q142.496 563.381 140.228 563.011 Q137.982 562.641 135.575 561.9 L135.575 557.201 Q137.658 558.335 139.881 558.891 Q142.103 559.446 144.58 559.446 Q148.584 559.446 150.922 557.34 Q153.26 555.233 153.26 551.622 Q153.26 548.011 150.922 545.905 Q148.584 543.798 144.58 543.798 Q142.705 543.798 140.83 544.215 Q138.978 544.631 137.033 545.511 L137.033 528.15 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M90.8067 251.38 L109.163 251.38 L109.163 255.315 L95.0891 255.315 L95.0891 263.787 Q96.1076 263.44 97.1261 263.278 Q98.1447 263.093 99.1632 263.093 Q104.95 263.093 108.33 266.264 Q111.709 269.436 111.709 274.852 Q111.709 280.431 108.237 283.533 Q104.765 286.611 98.4456 286.611 Q96.2697 286.611 94.0012 286.241 Q91.7558 285.871 89.3484 285.13 L89.3484 280.431 Q91.4317 281.565 93.6539 282.121 Q95.8761 282.676 98.353 282.676 Q102.358 282.676 104.696 280.57 Q107.033 278.463 107.033 274.852 Q107.033 271.241 104.696 269.135 Q102.358 267.028 98.353 267.028 Q96.478 267.028 94.603 267.445 Q92.7512 267.861 90.8067 268.741 L90.8067 251.38 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M120.922 280.06 L125.807 280.06 L125.807 285.94 L120.922 285.94 L120.922 280.06 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M145.992 254.459 Q142.381 254.459 140.552 258.024 Q138.746 261.565 138.746 268.695 Q138.746 275.801 140.552 279.366 Q142.381 282.908 145.992 282.908 Q149.626 282.908 151.431 279.366 Q153.26 275.801 153.26 268.695 Q153.26 261.565 151.431 258.024 Q149.626 254.459 145.992 254.459 M145.992 250.755 Q151.802 250.755 154.857 255.362 Q157.936 259.945 157.936 268.695 Q157.936 277.422 154.857 282.028 Q151.802 286.611 145.992 286.611 Q140.181 286.611 137.103 282.028 Q134.047 277.422 134.047 268.695 Q134.047 259.945 137.103 255.362 Q140.181 250.755 145.992 250.755 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><circle clip-path="url(#clip942)" cx="295.131" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1374.54" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1914.25" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="834.836" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1104.69" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="2184.1" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1644.39" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="564.983" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="699.909" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1779.32" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="2319.02" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1239.61" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="969.762" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="2049.17" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1509.47" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="430.057" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="362.594" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1442" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1981.71" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="902.299" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1172.15" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="2251.56" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1711.86" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="632.446" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="497.52" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1576.93" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="2116.63" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1037.23" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="767.373" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1846.78" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1307.08" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="227.668" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="244.533" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1323.94" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1863.65" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="784.238" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1054.09" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="2133.5" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1593.8" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="514.386" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="649.312" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1728.72" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="2268.43" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1189.02" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="919.165" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1998.57" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1458.87" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="379.46" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="446.923" cy="1375.74" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip942)" cx="1526.33" cy="268.66" r="14.4" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<path clip-path="url(#clip940)" d="
M721.569 198.898 L1321.32 198.898 L1321.32 95.2176 L721.569 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip940)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  721.569,198.898 1321.32,198.898 1321.32,95.2176 721.569,95.2176 721.569,198.898 
  "/>
<circle clip-path="url(#clip940)" cx="817.516" cy="147.058" r="23.04" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="5.12"/>
<path clip-path="url(#clip940)" d="M935.709 130.912 L935.709 135.472 Q933.047 134.199 930.686 133.574 Q928.325 132.949 926.126 132.949 Q922.306 132.949 920.223 134.43 Q918.163 135.912 918.163 138.643 Q918.163 140.935 919.528 142.115 Q920.917 143.273 924.76 143.99 L927.584 144.569 Q932.815 145.565 935.292 148.088 Q937.792 150.588 937.792 154.801 Q937.792 159.824 934.413 162.416 Q931.056 165.009 924.552 165.009 Q922.098 165.009 919.32 164.453 Q916.565 163.898 913.603 162.81 L913.603 157.995 Q916.45 159.592 919.181 160.402 Q921.913 161.213 924.552 161.213 Q928.556 161.213 930.732 159.639 Q932.908 158.064 932.908 155.148 Q932.908 152.602 931.334 151.166 Q929.783 149.731 926.218 149.014 L923.371 148.458 Q918.14 147.416 915.802 145.194 Q913.464 142.972 913.464 139.014 Q913.464 134.43 916.681 131.791 Q919.922 129.153 925.593 129.153 Q928.024 129.153 930.547 129.592 Q933.07 130.032 935.709 130.912 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M956.681 151.305 Q951.519 151.305 949.528 152.486 Q947.538 153.666 947.538 156.514 Q947.538 158.782 949.019 160.125 Q950.524 161.444 953.093 161.444 Q956.635 161.444 958.764 158.944 Q960.917 156.421 960.917 152.254 L960.917 151.305 L956.681 151.305 M965.176 149.546 L965.176 164.338 L960.917 164.338 L960.917 160.402 Q959.459 162.763 957.283 163.898 Q955.107 165.009 951.959 165.009 Q947.977 165.009 945.616 162.787 Q943.278 160.541 943.278 156.791 Q943.278 152.416 946.195 150.194 Q949.135 147.972 954.945 147.972 L960.917 147.972 L960.917 147.555 Q960.917 144.615 958.973 143.018 Q957.051 141.398 953.556 141.398 Q951.334 141.398 949.227 141.93 Q947.121 142.463 945.176 143.527 L945.176 139.592 Q947.514 138.69 949.713 138.25 Q951.912 137.787 953.996 137.787 Q959.621 137.787 962.399 140.703 Q965.176 143.62 965.176 149.546 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M994.134 143.389 Q995.732 140.518 997.954 139.153 Q1000.18 137.787 1003.19 137.787 Q1007.24 137.787 1009.44 140.634 Q1011.63 143.458 1011.63 148.689 L1011.63 164.338 L1007.35 164.338 L1007.35 148.828 Q1007.35 145.102 1006.03 143.296 Q1004.71 141.49 1002 141.49 Q998.695 141.49 996.773 143.69 Q994.852 145.889 994.852 149.685 L994.852 164.338 L990.57 164.338 L990.57 148.828 Q990.57 145.078 989.25 143.296 Q987.931 141.49 985.176 141.49 Q981.912 141.49 979.991 143.713 Q978.07 145.912 978.07 149.685 L978.07 164.338 L973.787 164.338 L973.787 138.412 L978.07 138.412 L978.07 142.44 Q979.528 140.055 981.565 138.921 Q983.602 137.787 986.403 137.787 Q989.227 137.787 991.195 139.222 Q993.185 140.657 994.134 143.389 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1024.25 160.449 L1024.25 174.199 L1019.97 174.199 L1019.97 138.412 L1024.25 138.412 L1024.25 142.347 Q1025.59 140.032 1027.63 138.921 Q1029.69 137.787 1032.54 137.787 Q1037.26 137.787 1040.2 141.537 Q1043.16 145.287 1043.16 151.398 Q1043.16 157.509 1040.2 161.259 Q1037.26 165.009 1032.54 165.009 Q1029.69 165.009 1027.63 163.898 Q1025.59 162.763 1024.25 160.449 M1038.74 151.398 Q1038.74 146.699 1036.8 144.037 Q1034.88 141.352 1031.5 141.352 Q1028.12 141.352 1026.17 144.037 Q1024.25 146.699 1024.25 151.398 Q1024.25 156.097 1026.17 158.782 Q1028.12 161.444 1031.5 161.444 Q1034.88 161.444 1036.8 158.782 Q1038.74 156.097 1038.74 151.398 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1050.22 128.319 L1054.48 128.319 L1054.48 164.338 L1050.22 164.338 L1050.22 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1085.57 150.31 L1085.57 152.393 L1065.99 152.393 Q1066.26 156.791 1068.62 159.106 Q1071.01 161.398 1075.25 161.398 Q1077.7 161.398 1079.99 160.796 Q1082.31 160.194 1084.57 158.99 L1084.57 163.018 Q1082.28 163.99 1079.87 164.5 Q1077.47 165.009 1074.99 165.009 Q1068.79 165.009 1065.15 161.398 Q1061.54 157.787 1061.54 151.629 Q1061.54 145.264 1064.97 141.537 Q1068.42 137.787 1074.25 137.787 Q1079.48 137.787 1082.51 141.166 Q1085.57 144.523 1085.57 150.31 M1081.31 149.06 Q1081.26 145.565 1079.34 143.481 Q1077.44 141.398 1074.3 141.398 Q1070.73 141.398 1068.58 143.412 Q1066.45 145.426 1066.12 149.083 L1081.31 149.06 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1109.62 142.347 L1109.62 128.319 L1113.88 128.319 L1113.88 164.338 L1109.62 164.338 L1109.62 160.449 Q1108.28 162.763 1106.22 163.898 Q1104.18 165.009 1101.31 165.009 Q1096.61 165.009 1093.65 161.259 Q1090.71 157.509 1090.71 151.398 Q1090.71 145.287 1093.65 141.537 Q1096.61 137.787 1101.31 137.787 Q1104.18 137.787 1106.22 138.921 Q1108.28 140.032 1109.62 142.347 M1095.11 151.398 Q1095.11 156.097 1097.03 158.782 Q1098.97 161.444 1102.35 161.444 Q1105.73 161.444 1107.68 158.782 Q1109.62 156.097 1109.62 151.398 Q1109.62 146.699 1107.68 144.037 Q1105.73 141.352 1102.35 141.352 Q1098.97 141.352 1097.03 144.037 Q1095.11 146.699 1095.11 151.398 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1142.58 133.62 L1142.58 146.606 L1148.46 146.606 Q1151.73 146.606 1153.51 144.916 Q1155.29 143.227 1155.29 140.102 Q1155.29 137 1153.51 135.31 Q1151.73 133.62 1148.46 133.62 L1142.58 133.62 M1137.91 129.778 L1148.46 129.778 Q1154.27 129.778 1157.24 132.416 Q1160.22 135.032 1160.22 140.102 Q1160.22 145.217 1157.24 147.833 Q1154.27 150.449 1148.46 150.449 L1142.58 150.449 L1142.58 164.338 L1137.91 164.338 L1137.91 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1174.67 141.398 Q1171.24 141.398 1169.25 144.083 Q1167.26 146.745 1167.26 151.398 Q1167.26 156.051 1169.23 158.736 Q1171.22 161.398 1174.67 161.398 Q1178.07 161.398 1180.06 158.713 Q1182.05 156.027 1182.05 151.398 Q1182.05 146.791 1180.06 144.106 Q1178.07 141.398 1174.67 141.398 M1174.67 137.787 Q1180.22 137.787 1183.39 141.398 Q1186.56 145.009 1186.56 151.398 Q1186.56 157.764 1183.39 161.398 Q1180.22 165.009 1174.67 165.009 Q1169.09 165.009 1165.92 161.398 Q1162.77 157.764 1162.77 151.398 Q1162.77 145.009 1165.92 141.398 Q1169.09 137.787 1174.67 137.787 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1193.62 138.412 L1197.88 138.412 L1197.88 164.338 L1193.62 164.338 L1193.62 138.412 M1193.62 128.319 L1197.88 128.319 L1197.88 133.713 L1193.62 133.713 L1193.62 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1228.35 148.689 L1228.35 164.338 L1224.09 164.338 L1224.09 148.828 Q1224.09 145.148 1222.65 143.319 Q1221.22 141.49 1218.35 141.49 Q1214.9 141.49 1212.91 143.69 Q1210.92 145.889 1210.92 149.685 L1210.92 164.338 L1206.63 164.338 L1206.63 138.412 L1210.92 138.412 L1210.92 142.44 Q1212.44 140.102 1214.5 138.944 Q1216.59 137.787 1219.3 137.787 Q1223.76 137.787 1226.05 140.565 Q1228.35 143.319 1228.35 148.689 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1241.05 131.051 L1241.05 138.412 L1249.83 138.412 L1249.83 141.722 L1241.05 141.722 L1241.05 155.796 Q1241.05 158.967 1241.91 159.87 Q1242.79 160.773 1245.45 160.773 L1249.83 160.773 L1249.83 164.338 L1245.45 164.338 Q1240.52 164.338 1238.65 162.509 Q1236.77 160.657 1236.77 155.796 L1236.77 141.722 L1233.65 141.722 L1233.65 138.412 L1236.77 138.412 L1236.77 131.051 L1241.05 131.051 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip940)" d="M1271.96 139.176 L1271.96 143.203 Q1270.15 142.277 1268.21 141.815 Q1266.26 141.352 1264.18 141.352 Q1261.01 141.352 1259.41 142.324 Q1257.84 143.296 1257.84 145.24 Q1257.84 146.722 1258.97 147.578 Q1260.11 148.412 1263.53 149.176 L1264.99 149.5 Q1269.53 150.472 1271.42 152.254 Q1273.35 154.014 1273.35 157.185 Q1273.35 160.796 1270.48 162.902 Q1267.63 165.009 1262.63 165.009 Q1260.55 165.009 1258.28 164.592 Q1256.03 164.199 1253.53 163.388 L1253.53 158.99 Q1255.89 160.217 1258.18 160.842 Q1260.48 161.444 1262.72 161.444 Q1265.73 161.444 1267.35 160.426 Q1268.97 159.384 1268.97 157.509 Q1268.97 155.773 1267.79 154.847 Q1266.63 153.921 1262.67 153.064 L1261.19 152.717 Q1257.23 151.884 1255.48 150.171 Q1253.72 148.435 1253.72 145.426 Q1253.72 141.768 1256.31 139.778 Q1258.9 137.787 1263.67 137.787 Q1266.03 137.787 1268.11 138.134 Q1270.2 138.481 1271.96 139.176 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<p>How does a regular surrogate perform on such a dataset?</p><pre><code class="language-julia hljs">RAD_1D = RadialBasis(x, y, lb, ub, rad = linearRadial(), scale_factor = 1.0, sparse = false)
RAD_at0 = RAD_1D(0.0) #true value should be 5.0</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-5.192581652482541e-15</code></pre><p>As we can see, the prediction is far away from the ground truth. Now, how does the MOE perform?</p><pre><code class="language-julia hljs">expert_types = [
        RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                             sparse = false),
        RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                        sparse = false)
    ]

MOE_1D_RAD_RAD = MOE(x, y, expert_types)
MOE_at0 = MOE_1D_RAD_RAD(0.0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">5.535714285714285</code></pre><p>As we can see the accuracy is significantly better. </p><h3 id="Under-the-Hood-How-SurrogatesMOE-Works"><a class="docs-heading-anchor" href="#Under-the-Hood-How-SurrogatesMOE-Works">Under the Hood - How SurrogatesMOE Works</a><a id="Under-the-Hood-How-SurrogatesMOE-Works-1"></a><a class="docs-heading-anchor-permalink" href="#Under-the-Hood-How-SurrogatesMOE-Works" title="Permalink"></a></h3><p>First, we create Gaussian Mixture Models for the number of expert types provided using the x and y values. For example, in the above example, we create two clusters. Then, using a small test dataset kept aside from the input data, we choose the best surrogate model for each of the clusters. At prediction time, we use the appropriate surrogate model based on the cluster to which the new point belongs.</p><h3 id="N-Dimensional-Example"><a class="docs-heading-anchor" href="#N-Dimensional-Example">N-Dimensional Example</a><a id="N-Dimensional-Example-1"></a><a class="docs-heading-anchor-permalink" href="#N-Dimensional-Example" title="Permalink"></a></h3><pre><code class="language-julia hljs">using Surrogates
using SurrogatesMOE

# helper to test accuracy of predictors
function rmse(a, b)
    a = vec(a)
    b = vec(b)
    if (size(a) != size(b))
        println(&quot;error in inputs&quot;)
        return
    end
    n = size(a, 1)
    return sqrt(sum((a - b) .^ 2) / n)
end

# multidimensional input function
function discont_NDIM(x)
    if (x[1] &gt;= 0.0 &amp;&amp; x[2] &gt;= 0.0)
        return sum(x .^ 2) + 5
    else
        return sum(x .^ 2) - 5
    end
end
lb = [-1.0, -1.0]
ub = [1.0, 1.0]
n = 150
x = sample(n, lb, ub, SobolSample())
y = discont_NDIM.(x)
x_test = sample(10, lb, ub, GoldenSample())

expert_types = [
    RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                            sparse = false),
    RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                            sparse = false),
]
moe_nd_rad_rad = MOE(x, y, expert_types, ndim = 2)
moe_pred_vals = moe_nd_rad_rad.(x_test)
true_vals = discont_NDIM.(x_test)
moe_rmse = rmse(true_vals, moe_pred_vals)
rbf = RadialBasis(x, y, lb, ub)
rbf_pred_vals = rbf.(x_test)
rbf_rmse = rmse(true_vals, rbf_pred_vals)
println(rbf_rmse &gt; moe_rmse)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">[ Info: Initializing GMM, 2 Gaussians diag covariance 3 dimensions using 113 data points
K-means converged with 2 iterations (objv = 79.88640438589005)
┌ Info: K-means with 113 data points using 2 iterations
└ 14.1 data points per parameter
true</code></pre><h3 id="Usage-Notes-Example-With-Other-Surrogates"><a class="docs-heading-anchor" href="#Usage-Notes-Example-With-Other-Surrogates">Usage Notes - Example With Other Surrogates</a><a id="Usage-Notes-Example-With-Other-Surrogates-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Notes-Example-With-Other-Surrogates" title="Permalink"></a></h3><p>From the above example, simply change or add to the expert types:</p><pre><code class="language-julia hljs">using Surrogates
#To use Inverse Distance and Radial Basis Surrogates
expert_types = [
    KrigingStructure(p = [1.0, 1.0], theta = [1.0, 1.0]),
    InverseDistanceStructure(p = 1.0)
]

#With 3 Surrogates
expert_types = [
    RadialBasisStructure(radial_function = linearRadial(), scale_factor = 1.0,
                            sparse = false),
    LinearStructure(),
    InverseDistanceStructure(p = 1.0),
]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gekpls/">« GEKPLS</a><a class="docs-footer-nextpage" href="../samples/">Samples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 18 October 2022 06:47">Tuesday 18 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
